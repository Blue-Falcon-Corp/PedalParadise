@page "/login"  
@using Microsoft.AspNetCore.Components.Forms  
@inject HttpClient Http  

<h3>Login</h3>  

<EditForm Model="@loginModel" OnValidSubmit="HandleValidSubmit">  
   <DataAnnotationsValidator />  
   <ValidationSummary />  

   <div class="mb-3">  
       <label for="email" class="form-label">Email</label>  
       <InputText id="email" class="form-control" @bind-Value="loginModel.Email" />  
   </div>  

   <div class="mb-3">  
       <label for="password" class="form-label">Password</label>  
       <InputText id="password" type="password" class="form-control" @bind-Value="loginModel.Password" />  
   </div>  

   <button type="submit" class="btn btn-primary">Login</button>  
</EditForm>  

@code {  
   private LoginModel loginModel = new();  

   private async Task HandleValidSubmit()  
   {  
       var response = await Http.PostAsJsonAsync("api/Login", loginModel);  
       if (response.IsSuccessStatusCode)  
       {  
           // Handle successful login (e.g., redirect or show success message)  
       }  
       else  
       {  
           // Handle login failure (e.g., show error message)  
       }  
   }  

   public class LoginModel  
   {  
       [Required]  
       [EmailAddress]  
       public string Email { get; set; }  

       [Required]  
       public string Password { get; set; }  
   }  
}
